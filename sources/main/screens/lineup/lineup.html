<ion-view id="lineup-screen" class="lineup-screen royal-bg">
  <ion-nav-title>{{viewTitle}}</ion-nav-title>
  <ion-nav-buttons side="secondary">
    <button class="button button-icon button-clear ion-radio-waves" ng-disabled="!vm.hasStarted"
            ng-click="vm.showPlaying()"></button>
  </ion-nav-buttons>
  <div class="bar bar-subheader">
    <div class="button-bar">
      <a class="button button-positive" ng-repeat="floor in festival.lineup" ng-click="vm.selectFloor($index)"
         ng-class="{ active: vm.selectedScene === $index }">{{::floor.name}}</a>
    </div>
  </div>
  <ion-content class="light-bg has-subheader" overflow-scroll="false" delegate-handle="lineupScroll">
    <ion-list type="list-joined" ng-repeat="day in festival.lineup[vm.selectedScene].setsByDay">
      <div class="item item-divider" ion-affix data-affix-within-parent-with-class="list">
        {{vm.getWeekday(day.weekday)}}
      </div>
      <ion-item class="item-set" ng-repeat="set in day.sets" ng-click="vm.showArtist(set)" id="{{set.id}}"
                ng-class="{ 'positive current': vm.playing[vm.selectedScene] === set }">
        <span ng-if="::set.artist" class="badge badge-calm">{{::set.type}}</span>
        <span class="time">{{::vm.formatDate(set.start)}}-{{::vm.formatDate(set.end)}}</span><span>{{::set.artist ? set.artist.name : ('Break' | translate)}}</span>
        <ion-option-button class="option-button button-positive ion-android-favorite"
                           ng-click="vm.switchFavorite(festival.artistById[set.artistId])"
                           ng-class=" { 'ion-android-favorite-outline': !vm.favorites[set.artistId] }">
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
